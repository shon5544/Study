### 출처
* https://velog.io/@yange/NAT%EC%99%80-PAT%EC%97%90-%EB%8C%80%ED%95%98%EC%97%AC (PAT)
___
### 개요
* [[#NAT란]]
* [[#NAT의 동작 방식]]
___
### NAT란

Network Address Translation은 **사설 네트워크에 속한 여러 호스트가 한개의 공인 IP를 활용해 인터넷을 사용하기 위해 필요한 기술**이다. <span class="red red-bg">NAT는 IP 부족 현상을 해결하기 위한 방법으로 탄생했으며 주 목적은 사설 IP를 공인 IP로 변환하는 것이다.</span>

**사설망 내부에 존재하는 호스트들은 외부 망으로 나가는 것까지는 가능하더라도 외부망의 호스트가 사설주소를 보고 적절히 패킷을 전달하는 것이 불가능하기 때문에 응답을 전달 받을 수 없다**. 실제로 AWS에서 Private VPC를 사용해보면 NAT가 없을 경우 VPC 내부 인스턴스가 인터넷의 응답을 수신하지 못하는 것을 확인 할 수 있다. (람다의 경우도 Private VPC에 속하면 인터넷이 안된다. 람다는 IP를 가질 수 없기 때문에)

**따라서 NAT를 사용해 사설 주소 -> 공인 주소,  공인주소 -> 사설 주소로의 전환이 가능하게 해줘야 사설 망 내부에서도 인터넷 활용이 가능하다.**
___
### NAT의 동작 방식

* **Static NAT**
	하나의 사설 IP 주소를 하나의 공인 IP 주소에 정적으로 매핑한다. 해당 사설 IP는 무조건 대응하는 공인 IP로 치환된다. 공인 IP를 많이 확보해야해서 경제적이진 않은 방법이다.

*  **PAT (Port Address Translation)**
	**포트 번호를 활용해 사설 IP를 구분하는 방식이다**. 다수의 사설 IP가 하나의 공인 IP에 대응되고 이때 각 커넥션을 포트 번호를 활용해 구분한다. 예를 들어 공인 ip가 223.28.3.1일때 사설 ip가 3개 존재하면 223.28.3.1:10,223.28.3.1:20,223.28.3.1:30 등으로 포트를 다르게 활용해 통신을 진행한다.
	요즘 공유기는 대다수가 이 방법을 사용한다.

![[Pasted image 20231222172040.png]]