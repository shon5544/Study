### 출처
* https://www.cisco.com/c/en/us/products/routers/what-is-a-network-gateway.html (게이트웨이)
* https://ko.wikipedia.org/wiki/%EA%B2%8C%EC%9D%B4%ED%8A%B8%EC%9B%A8%EC%9D%B4 (게이트웨이-위키백과)
* https://stackoverflow.com/questions/42847945/aws-api-gateway-error-response-generates-502-bad-gateway (API GATEWAY 502)
___
### 개요
* [[#게이트웨이란?]]
* [[#502 Bad Gate Way]]
___
## 게이트웨이란?

![[Pasted image 20231222120341.png]]

<b><u>게이트웨이는 네트워크간 연결을 수행하는 관문이다.</u></b> 게이트웨이는 네트워크의 끝단과 도입부에 위치하며 해당 네트워크로 접속할 데이터나 외부 네트워크로 나가는 데이터는 게이트웨이를 거쳐야만 한다. 게이트웨이를 사용하면 네트워크의 속성 등을 변경할 때 게이트웨이만 수정하면 되기에 연결 관리에 용이성을 제공한다. 또한 모든 커넥션이 거치므로 방화벽이나 프록시 서버로 사용할 수도 있다.

동일 LAN이 아닌 외부 네트워크에 접속 하려면 반드시 게이트웨이를 거쳐야만 한다. 그렇다면 게이트웨이와 라우터는 동일한 장치인가? 라는 질문이 떠오를 수 있다. 하지만 **라우터와 게이트웨이는 다른 장치**이다. 라우터는 비슷한 프로토콜을 가진 네트워크 간의 통신 만을 진행한다. 하지만 <b><u>게이트웨이는 서로 다른 프로토콜을 가진 네트워크 간의 연결도 가능하다.</u></b>

**게이트웨이의 예시로 공유기를 생각해 볼 수 있다. 공유기는 무선 LAN을 외부 인터넷 망을 사용 가능하게 프로토콜을 변환하고 연결하는 작업을 수행한다.**  AWS의 API GATEWAY도 생각해 볼 수 있다. 외부의 HTTP 요청을 AWS 내부의 인스턴스 전용 프로토콜로 변환하고 통신한다.

> [!info]
> **게이트웨이는 출,입국 심사장과 같은 기능을 한다. 라우터는 국내 여행만 가능하지만 게이트웨이는 해외여행도 가능케 해준다.**

___
### 502 Bad Gate Way

**게이트 웨이에서 문제가 발생했을 때 유발되는 에러로 게이트 웨이에서 사용자의 요청이 적절히 처리되지 못해 전달돼야하는 호스트로 적절히 전달돼지 못한 상황을 말한다**. NGINX 기반의 서버에서 발생하는 경우가 잦으며 원인으로는 서버 과부하, 적절치 못한 전달, 유효하지 못한 인수 전달 등이 존재한다. AWS API Gateway의 경우 인스턴스의 응답 형식이나 요청 형식이 잘못됐을 경우 위 에러가 발생한다. (특히 람다)